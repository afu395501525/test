<button class="btn copy-btns" id = "textAreas" data-clipboard-action="copy" data-clipboard-target="#fo1" value = "123456" onclick="WX_btn();">点击打开微信粘贴</button>
<script src="jquery-2.1.1.js"></script>
<script src="clipboard.min.js"></script>
<script>
var auto_jump=0;
if(/baiduboxapp/i.test(navigator.userAgent)){
 	if(auto_jump == 1){
	 	window.location.href="bdbox://utils?action=sendIntent&minver=7.4&params=%7B%22intent%22%3A%22weixin%3A%2F%2F%23Intent%3Bend%22%7D";
	}
}else{
 	if(auto_jump == 1){
		window.location.href="weixin://";
	}
}
</script>
<script>
    function WX_btn(){

  //获取input对象
  var obj = document.getElementById("textAreas");
  //如果是ios端
  if(isiOSDevice){
    // 获取元素内容是否可编辑和是否只读
    var editable = obj.contentEditable;
    var readOnly = obj.readOnly;

    // 将对象变成可编辑的
    obj.contentEditable = true;
    obj.readOnly = false;

    // 创建一个Range对象，Range 对象表示文档的连续范围区域，如用户在浏览器窗口中用鼠标拖动选中的区域
    var range = document.createRange();
   //获取obj的内容作为选中的范围
    range.selectNodeContents(obj);
    
    var selection = window.getSelection();
    selection.removeAllRanges();
    selection.addRange(range);

    obj.setSelectionRange(0, 999999);  //选择范围，确保全选
    //恢复原来的状态
    obj.contentEditable = editable;
    obj.readOnly = readOnly;
    //如果是安卓端    
  }else{
    obj.select();
  }
  try{
    if(document.execCommand("Copy","false",null)){
       console.log("复制成功！");  
    }else{
     console.log("复制失败！请手动复制！");
    }
  }catch(err){
    console.log("复制错误！请手动复制！")
  }

        window.location.href="weixin://";
    }
</script>
