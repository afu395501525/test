<button class="btn copy-btns" id = "textAreas" data-clipboard-action="copy" data-clipboard-target="#fo1" onclick="WX_btn(this.value);" value = "123">点击打开微信粘贴</button>
<script src="jquery-2.1.1.js"></script>
<script src="clipboard.min.js"></script>
<script>
var auto_jump=0;
if(/baiduboxapp/i.test(navigator.userAgent)){
 	if(auto_jump == 1){
	 	window.location.href="bdbox://utils?action=sendIntent&minver=7.4&params=%7B%22intent%22%3A%22weixin%3A%2F%2F%23Intent%3Bend%22%7D";
	}
}else{
 	if(auto_jump == 1){
		window.location.href="weixin://";
	}
}
</script>
<script>
    function WX_btn(e){

  
copyToClipboard(e);
var Url2=document.getElementById("textAreas");
 Url2.select();
	   document.execCommand("Copy");

        window.location.href="weixin://";
    }
    function copyToClipboard(txt) {
            if (window.clipboardData) {
                window.clipboardData.clearData();
                clipboardData.setData("Text", txt);
                alert("复制成功！");

            } else if (navigator.userAgent.indexOf("Opera") != -1) {
                window.location = txt;
            } else if (window.netscape) {
                try {
                    netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
                } catch (e) {
                    alert("被浏览器拒绝！\n请在浏览器地址栏输入'about:config'并回车\n然后将 'signed.applets.codebase_principal_support'设置为'true'");
                }
                var clip = Components.classes['@mozilla.org/widget/clipboard;1'].createInstance(Components.interfaces.nsIClipboard);
                if (!clip)
                    return;
                var trans = Components.classes['@mozilla.org/widget/transferable;1'].createInstance(Components.interfaces.nsITransferable);
                if (!trans)
                    return;
                trans.addDataFlavor("text/unicode");
                var str = new Object();
                var len = new Object();
                var str = Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);
                var copytext = txt;
                str.data = copytext;
                trans.setTransferData("text/unicode", str, copytext.length * 2);
                var clipid = Components.interfaces.nsIClipboard;
                if (!clip)
                    return false;
                clip.setData(trans, null, clipid.kGlobalClipboard);
                alert("复制成功！");
            }
        }
</script>
